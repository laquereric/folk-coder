<section class="pt-32 pb-20 px-4">
  <div class="max-w-3xl mx-auto">
    <!-- Breadcrumb -->
    <div class="mb-8">
      <%= link_to "&larr; Back to Curriculum".html_safe, curriculum_path, class: "text-folk-blue hover:underline text-sm" %>
    </div>

    <!-- Lesson Header -->
    <div class="mb-8">
      <span class="text-folk-green text-sm font-medium"><%= @lesson.curriculum_module.title %></span>
      <h1 class="text-3xl font-bold mt-2 mb-4"><%= @lesson.title %></h1>
      <p class="text-gray-400 text-lg"><%= @lesson.description %></p>
    </div>

    <!-- Lesson Content -->
    <div class="bg-gray-800/50 border border-gray-700 rounded-xl p-8 mb-8 prose prose-invert max-w-none">
      <div class="text-gray-300 leading-relaxed space-y-4">
        <%= simple_format(@lesson.content) %>
      </div>
    </div>

    <!-- Actions -->
    <div class="flex items-center justify-between">
      <% if @lesson.completed_by?(Current.user) %>
        <span class="inline-flex items-center gap-2 text-folk-green font-medium">
          <span>&#10003;</span> Completed
        </span>
      <% else %>
        <%= button_to "Mark Complete", complete_lesson_path(@lesson), method: :post,
            class: "bg-folk-green hover:bg-green-600 text-white px-6 py-3 rounded-lg font-semibold transition cursor-pointer" %>
      <% end %>

      <% if @lesson.next_lesson %>
        <%= link_to "Next Lesson &rarr;".html_safe, lesson_path(@lesson.next_lesson),
            class: "text-folk-blue hover:underline font-medium" %>
      <% else %>
        <%= link_to "Back to Curriculum", curriculum_path,
            class: "text-folk-blue hover:underline font-medium" %>
      <% end %>
    </div>
  </div>
</section>
