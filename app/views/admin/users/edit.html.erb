<% content_for :title, "Edit #{@user.name} - Admin - FolkCoder" %>

<div class="mb-6">
  <%= link_to "&larr; Back to User".html_safe, admin_user_path(@user), class: "text-gray-400 hover:text-white text-sm" %>
</div>

<div class="bg-gray-800 rounded-lg border border-gray-700 p-6 max-w-2xl">
  <h1 class="text-2xl font-bold mb-6">Edit User</h1>

  <%= form_with model: [:admin, @user], class: "space-y-6" do |f| %>
    <% if @user.errors.any? %>
      <div class="bg-red-500/20 border border-red-500/50 text-red-400 px-4 py-3 rounded-lg">
        <ul class="list-disc list-inside">
          <% @user.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div>
      <%= f.label :name, class: "block text-sm font-medium text-gray-300 mb-2" %>
      <%= f.text_field :name, class: "w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-folk-blue focus:border-transparent" %>
    </div>

    <div>
      <%= f.label :email_address, "Email", class: "block text-sm font-medium text-gray-300 mb-2" %>
      <div class="w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-gray-400">
        <%= @user.email_address %>
        <span class="text-xs text-gray-500 ml-2">(cannot be changed)</span>
      </div>
    </div>

    <div>
      <%= f.label :role, class: "block text-sm font-medium text-gray-300 mb-2" %>
      <%= f.select :role, User::ROLES.map { |r| [r.capitalize, r] }, {}, class: "w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-folk-blue focus:border-transparent" %>
    </div>

    <div class="pt-4 flex space-x-4">
      <%= f.submit "Save Changes", class: "bg-folk-blue hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition cursor-pointer" %>
      <%= link_to "Cancel", admin_user_path(@user), class: "bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition" %>
    </div>
  <% end %>
</div>
